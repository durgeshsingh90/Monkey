{%load static%}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Oracle Query UI</title>
  <link rel="stylesheet" href="{% static 'runquery/css/styles.css' %}">
</head>
<body>
  <div id="main-content">
    <div class="header">
      <div class="tabs">
        <button class="tab-button" data-index="0">Tab 1</button>
        <button class="tab-button" data-index="1">Tab 2</button>
        <button class="tab-button" data-index="2">Tab 3</button>
      </div>
      <div class="top-controls">
        <select id="dropdown1"></select>
        <label class="toggle-switch">
          <input type="checkbox" id="toggleSwitch" onchange="toggleViewMode(this)">
          <span class="slider"></span>
        </label>
        <button id="historyBtn" onclick="viewHistory()">History</button>
      </div>
    </div>

    <div id="tab-0" class="tab-content"><textarea id="text-0" placeholder="Enter SQL for Tab 1"></textarea></div>
    <div id="tab-1" class="tab-content"><textarea id="text-1" placeholder="Enter SQL for Tab 2"></textarea></div>
    <div id="tab-2" class="tab-content"><textarea id="text-2" placeholder="Enter SQL for Tab 3"></textarea></div>

    <div class="controls">
      <button onclick="execute()">Execute</button>
      <button onclick="countChars()">Count</button>
    </div>

    <div id="columnResult"></div>
    <div id="jsonResult"></div>
  </div>

  <div id="sidebar">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h3>ðŸ“˜ Tables</h3>
      <button onclick="refreshMetadata()" class="refresh-btn">ðŸ”„ Refresh</button>
    </div>
    <div class="search-container">
      <input type="text" id="tableSearch" placeholder="Search tables and columns..." onkeyup="showSuggestions()">
      <div id="suggestions"></div>
    </div>
    <div id="tableStructure"></div>
  </div>
  <!-- 1) do some kind of color coding between pinned and non pinned tables, 
  2) the Pin icon should change to pin for pinned tables
  3) The count button should execute the query from the text box with select count(*) from (<text box query>)
  4) On toggle i want to name column and json, this should be inside of toggle itself
  5) I want a history button as well which saves all old command, show history in a new HTML page with timestamp and runtime and which database it was run and other meta data if possible Save this history in json in media folder as well on history page, have separate tabs for each database along with All
  6) On search tab 1st show the tables enclosed with only columns search is matching -->
  <script src="{% static 'runquery/js/scripts.js' %}"></script>
</body>
</html>
