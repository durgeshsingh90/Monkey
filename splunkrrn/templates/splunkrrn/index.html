{%load static%}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Splunk Query Builder</title>
  <link rel="icon" href="{% static 'splunkrrn/images/search.png' %}" type="image/png">
  <link rel="stylesheet" href="{% static 'splunkrrn/css/styles.css' %}">

</head>
<body class="dark-mode">
  <div class="container">
    <!-- Left Panel -->
    <div class="left">
      <div class="editor-container">
        <div class="line-numbers" id="lineNumbers">1</div>
        <textarea id="inputText" placeholder='Enter 12-digit values, 24-digit hex, or strings in "quotes"...'></textarea>
      </div>
    </div>

    <!-- Middle Panel -->
    <div class="middle">
      <div style="width: 100%; display: flex; flex-direction: column; gap: 15px;">
        <div class="section">
          <button id="copyBtn" onclick="copyText()">📋 Copy</button>
          <button onclick="removeDuplicates()">🧹 Remove Duplicates</button>
          <button onclick="removeEmptyLines()">🗑️ Remove Empty Lines</button>
          <button id="sortTimeBtn" onclick="toggleSortTime()">🕒 Sort by Time</button>
        </div>

        <div class="section toggle">
          <label for="darkToggle">🌙 Dark Mode</label>
          <input type="checkbox" id="darkToggle" checked onchange="toggleDarkMode()">
        </div>

        <div class="section">
          <h4>✅ Include Hosts</h4>
          <label><input type="checkbox" class="host-include" value="A5CVAP1003" onchange="updateOutput()"> A5CVAP1003</label>
          <label><input type="checkbox" class="host-include" value="A5CVAP1004" onchange="updateOutput()"> A5CVAP1004</label>
          <label><input type="checkbox" class="host-include" value="a5pvap039"  onchange="updateOutput()"> a5pvap039</label>
          <label><input type="checkbox" class="host-include" value="a5pvap040"  onchange="updateOutput()"> a5pvap040</label>
          <label><input type="checkbox" class="host-include" value="a4pvap068"  onchange="updateOutput()"> a4pvap068</label>
        </div>

        <div class="section">
          <h4>🚫 Exclude Hosts</h4>
          <label><input type="checkbox" class="host-exclude" value="A5CVAP1003" onchange="updateOutput()"> A5CVAP1003</label>
          <label><input type="checkbox" class="host-exclude" value="A5CVAP1004" onchange="updateOutput()"> A5CVAP1004</label>
          <label><input type="checkbox" class="host-exclude" value="a5pvap039"  onchange="updateOutput()"> a5pvap039</label>
          <label><input type="checkbox" class="host-exclude" value="a5pvap040"  onchange="updateOutput()"> a5pvap040</label>
          <label><input type="checkbox" class="host-exclude" value="a4pvap068"  onchange="updateOutput()"> a4pvap068</label>
        </div>

        <div class="section">
          <h4>⚙️ Advanced Filters</h4>
          <label><input type="checkbox" id="sortByTimeOnly" onchange="updateOutput()"> 🕒 Sort logs by _time</label>
        </div>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="right">
      <div class="output" id="outputBox"></div>
    </div>
  </div>

  <div class="status-bar">
    <div id="statusText">Selected: 0 characters</div>
    <div>&nbsp;</div>
  </div>
  <script src="{% static 'splunkrrn/js/scripts.js' %}"></script>
</body>
</html>
